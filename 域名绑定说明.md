# muxisoft.com 与 www.muxisoft.com 同时可用

## 一、本地配置说明

- **`_config.yml`**：`url` 为 `https://muxisoft.com`（根域名为主）
- **`source/CNAME`**：内容为 `muxisoft.com`，部署后 GitHub 按此识别自定义域名

根域名和 www 都会打开同一博客，部署后执行一次：`npm run deploy`。

---

## 二、阿里云 DNS 解析

登录 [阿里云控制台](https://dc.console.aliyun.com/) → **域名** → **解析** → 选择 **muxisoft.com**，添加以下记录：

### 1. 根域名 muxisoft.com（4 条 A 记录）

| 记录类型 | 主机记录 | 记录值 |
|----------|----------|--------|
| A | @ | 185.199.108.153 |
| A | @ | 185.199.109.153 |
| A | @ | 185.199.110.153 |
| A | @ | 185.199.111.153 |

### 2. www 子域名 www.muxisoft.com（1 条 CNAME）

| 记录类型 | 主机记录 | 记录值 |
|----------|----------|--------|
| CNAME | www | delygo.github.io |

---

## 三、GitHub 设置

1. 打开：**https://github.com/DelyGo/muxi/settings/pages**
2. 在 **Custom domain** 填写：**muxisoft.com**
3. 点击 **Save**
4. 建议勾选 **Enforce HTTPS**

GitHub 会为根域名和 www 都签发证书，DNS 生效后两个地址都可访问。

---

## 四、部署（重要）

**每次改过 `_config.yml` 里的 `url` 或 `root` 后，都要先清理再部署**，否则线上资源路径会错、布局乱：

```bash
cd ~/Desktop/code/muxi
npx hexo clean
npm run deploy
```

**访问地址**：部署后请**只通过自定义域名**打开博客（**https://muxisoft.com** 或 **https://www.muxisoft.com**），不要用 **delygo.github.io/muxi**。用自定义域名后，HTML 里的 CSS/JS 都按 `url` 生成，用 github.io 打开会请求错路径，导致样式错乱。

---

## 五、若只显示一个地址

- GitHub 的 Custom domain 只能填一个，填 **muxisoft.com** 即可，www 通过 CNAME 指到同一站点也会生效。
- 若一段时间后 www 仍无法访问，可在阿里云为 **muxisoft.com** 添加「显性 URL 转发」：`muxisoft.com` → `https://www.muxisoft.com`，这样访问根域名会跳转到 www。
