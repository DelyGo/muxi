# Hexo + Stellar 主题 个人博客搭建教程（Mac）

**当前进度**：本地 Hexo + Stellar 已就绪，可预览。部署请使用下方「替代方案」（Gitee Pages 已下线）。

> **为什么找不到「服务 → Gitee Pages」？**  
> **Gitee Pages 已于 2024 年下线**，官方帮助文档已标注「功能已下线」，所以仓库里不再有该入口。下面提供可用的部署替代方案。

---

## 一、环境要求与检查

- **Node.js**：14.17.3 ～ 最新 LTS（建议 LTS，过高版本可能不兼容）
- **npm**：6.14.13 ～ 最新
- **Git**：已安装并配置好
- **Hexo**：6.3.0 ～ 最新

你当前已具备：Node、npm、Git。接下来在项目内初始化 Hexo 并安装 Stellar。

---

## 二、本地博客初始化（本仓库内已完成）

在本项目根目录已执行：

```bash
# 项目内安装 Hexo（无需全局安装）
npm install hexo hexo-cli --save
# 初始化博客结构（在空目录用 hexo init 后复制到此处）
# 安装 Hexo 生成器、渲染器等依赖
npm install
# 安装 Stellar 主题与 Gitee 部署插件
npm i hexo-theme-stellar hexo-deployer-git --save
```

**注意**：`package.json` 中需包含 `"hexo": { "version": "" }`，这样 hexo-cli 才会把当前目录识别为 Hexo 项目并加载 generate/server 等命令。

---

## 三、基础配置

### 1. 站点配置 `_config.yml`

- **title**：网站标题  
- **subtitle**：副标题  
- **description**：网站描述（SEO）  
- **author**：你的名字  
- **language**：`zh-CN`  
- **url**：最终访问地址（与部署平台一致，见第四节）  
- **theme**：`stellar`  
- **deploy**：部署到 Git 的配置（见第四节）

### 2. 启用 Stellar 主题

在根目录 `_config.yml` 中确保：

```yaml
theme: stellar
```

### 3. Stellar 主题配置

主题会读取 `_config.stellar.yml`。若不存在，可复制主题自带的配置：

```bash
cp node_modules/hexo-theme-stellar/_config.stellar.yml _config.stellar.yml
```

然后按需修改：站点名、头像、导航、侧边栏、评论等。详细文档：<https://xaoxuu.com/wiki/stellar/>。

---

## 四、部署方案（Gitee Pages 已下线，请用以下替代）

### 方案 A：GitHub Pages（推荐，和原来用法最像）

**针对本仓库（DelyGo/muxi）**：`_config.yml` 已配置为 `url: https://DelyGo.github.io/muxi`、`root: /muxi/`、`deploy.repo: git@github.com:DelyGo/muxi.git`、`deploy.branch: gh-pages`。按下面步骤执行即可。

1. 在 GitHub 新建仓库，例如 `你的用户名.github.io`（则访问地址为 `https://你的用户名.github.io`），或任意名如 `muxi`（则地址为 `https://你的用户名.github.io/muxi/`）。
2. 在 `_config.yml` 中修改：
   - `url: https://你的用户名.github.io` 或 `https://你的用户名.github.io/muxi`
   - `root: /` 或 `/muxi/`（仓库名不是「用户名.github.io」时用子路径）
   - `deploy.repo: git@github.com:你的用户名/仓库名.git`
   - `deploy.branch: gh-pages`（推荐，源码保留在 `main`，Pages 从 `gh-pages` 发布）。
3. 本地执行：`npm run deploy`（会先 clean、generate 再推送）。
4. 仓库 **Settings → Pages**：**Build and deployment → Source** 选 **Deploy from a branch**；**Branch** 选 `gh-pages`，目录选 **/ (root)**，保存。等 1～2 分钟访问 `https://你的用户名.github.io/muxi/`。

### 方案 B：Vercel（免费、自动构建）

1. 把本仓库推送到 GitHub（或直接连接 Gitee 仓库，Vercel 支持）。
2. 打开 <https://vercel.com> 用 GitHub 登录，**Add New Project**，导入该仓库。
3. 构建设置一般可自动识别；若需手动填写：
   - **Build Command**：`npm run build` 或 `npx hexo generate`
   - **Output Directory**：`public`
4. 部署完成后会得到一个 `xxx.vercel.app` 的地址；可在 Project Settings 里绑定自己的域名。

### 方案 C：Netlify / Cloudflare Pages

思路相同：连接 Git 仓库，构建命令为 `npm run build`，输出目录为 `public`，部署后得到免费访问地址。

---

## 五、本地预览与日常命令

### 本地预览

```bash
npm run clean && npm run build && npm run server
```

或分步：`hexo clean` → `hexo generate` → `hexo server`。浏览器打开 <http://localhost:4000>。

### 部署（按你选的方案）

- **GitHub Pages**：改好 `_config.yml` 的 `url`、`root`、`deploy` 后，执行 `npm run deploy`。
- **Vercel/Netlify**：推送代码到 Git 后，在对应平台会自动构建并发布。

---

## 六、日常写文章流程

1. 新建文章：`npm run new "文章标题"` 或 `hexo new "文章标题"`  
2. 编辑 `source/_posts/文章标题.md`  
3. 本地预览：`npm run server`  
4. 部署：按你使用的平台（Git 推送或 `npm run deploy`）

---

## 七、常见问题

- **页面 404**：检查对应平台 Pages 是否已开启、分支/目录是否选对。  
- **样式错乱**：确认 `_config.yml` 中 `theme: stellar`，且 `url`、`root` 与最终访问地址一致。  
- **部署失败**：检查 `deploy.repo`、SSH/HTTPS 权限、分支名。

---

## 八、参考链接

- Hexo 官方文档：<https://hexo.io/zh-cn/docs/>
- Stellar 主题文档：<https://xaoxuu.com/wiki/stellar/>
- Stellar 仓库：<https://github.com/xaoxuu/hexo-theme-stellar>
- Gitee 帮助（Pages 已下线说明）：<https://gitee.com/help/articles/4136>
